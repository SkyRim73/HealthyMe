<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Daily Routine Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base styles for the body */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            color: #374151; /* Dark gray text */
            min-height: 100vh; /* Ensure full viewport height */
            display: flex;
            flex-direction: column;
        }
        /* Main container for content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
            flex-grow: 1; /* Allow container to grow and push footer down */
        }
        /* Card styling for content sections */
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem; /* rounded-lg */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
            padding: 2rem;
            margin-bottom: 2rem;
        }
        /* Section title styling */
        .section-title {
            color: #1f2937; /* Darker gray for titles */
            font-weight: 700; /* font-bold */
            margin-bottom: 1.5rem;
        }
        /* Styling for the green interactive box */
        .interactive-box {
            background-color: #ecfdf5; /* Light green for interactive elements */
            border-left: 4px solid #10b981; /* Green-500 border */
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .interactive-box p {
            font-size: 1.125rem; /* text-lg */
            font-weight: 500; /* font-medium */
            color: #065f46; /* Green-800 */
        }
        /* Responsive grid for navigation items */
        .nav-grid {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, margin-top 0.5s ease-in-out;
        }
        .nav-grid.open {
            max-height: 1000px; /* Large enough to show all content */
            margin-top: 1.5rem; /* Add space when open */
        }
        /* Welcome message styling */
        .welcome-message {
            font-size: 1.5rem;
            font-weight: 600;
            color: #4b5563;
        }
        .welcome-subtext {
            font-size: 1.125rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }
        /* Task item styling for the checklist */
        .task-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 1.125rem;
            gap: 0.75rem;
        }
        .task-item input[type="checkbox"] {
            width: 1.5rem;
            height: 1.5rem;
            cursor: pointer;
            accent-color: #4f46e5; /* Indigo-600 */
            flex-shrink: 0;
        }
        .task-item input[type="text"] {
            flex-grow: 1;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            padding: 0.5rem 0.75rem;
            transition: border-color 0.2s;
        }
        .task-item input[type="text"]:focus {
            outline: none;
            border-color: #6366f1;
        }
        .task-item.completed input[type="text"] {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .delete-task-btn {
            background: none;
            border: none;
            color: #9ca3af;
            font-weight: bold;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            line-height: 1;
            width: 30px;
            height: 30px;
            transition: background-color 0.2s, color 0.2s;
        }
        .delete-task-btn:hover {
            background-color: #fee2e2; /* Red-100 */
            color: #ef4444; /* Red-500 */
        }
        /* General button styling */
        .button {
            background-color: #4f46e5; /* Indigo-600 */
            color: white;
            font-weight: bold;
            padding: 0.6rem 1.2rem;
            border-radius: 9999px; /* rounded-full */
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .button:hover {
            background-color: #4338ca; /* Indigo-700 */
            transform: scale(1.05);
        }
        /* Secondary button styling */
        .button-secondary {
            background-color: #e5e7eb; /* Gray-200 */
            color: #374151;
        }
        .button-secondary:hover {
            background-color: #d1d5db; /* Gray-300 */
        }

        /* Pomodoro Timer Styles */
        #pomodoroTimerDisplay {
            font-size: 4rem;
            font-weight: 700;
            color: #1f2937;
            text-align: center;
            margin: 1.5rem 0;
        }
        .timer-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            background-color: #fff;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            font-weight: 500;
        }
        .timer-btn.active {
            background-color: #4f46e5;
            color: #fff;
            border-color: #4f46e5;
        }
        
        /* Dropdown Toggle Button */
        #tools-toggle-btn .fa-chevron-down {
            transition: transform 0.3s ease-in-out;
        }
        #tools-toggle-btn.open .fa-chevron-down {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="text-center py-8">
            <h1 class="text-5xl font-extrabold text-gray-900 mb-4">Welcome to Your Productivity Hub!</h1>
            <p class="text-xl text-gray-600">Your centralized dashboard for a balanced and productive life.</p>
        </header>

        <section class="interactive-box">
            <div class="flex justify-between items-center">
                <div>
                    <p class="welcome-message" id="welcomeMessage">Hello!</p>
                    <p class="welcome-subtext" id="dailyTip">"Consistency is key to unlocking your potential."</p>
                </div>
                <button id="newTipBtn" class="button">New Tip</button>
            </div>
        </section>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 lg:gap-8">
            <div>
                <section class="card">
                    <div class="flex flex-wrap justify-between items-center gap-4 mb-6">
                        <h2 class="text-3xl section-title" style="margin-bottom: 0;">Today's Focus</h2>
                        <div class="flex gap-2">
                            <button id="addTaskBtn" class="button">Add Task</button>
                            <button id="clearTasksBtn" class="button button-secondary">Clear List</button>
                        </div>
                    </div>
                    <div id="taskList">
                        </div>
                </section>

                <section class="card">
                    <h2 class="text-3xl section-title">Pomodoro Timer</h2>
                    <div id="pomodoroTimerDisplay">25:00</div>
                    <div class="flex justify-center gap-4 mb-6">
                        <button id="workBtn" class="timer-btn active">Work</button>
                        <button id="breakBtn" class="timer-btn">Short Break</button>
                    </div>
                    <div class="flex justify-center gap-4">
                        <button id="startPauseBtn" class="button">Start</button>
                        <button id="resetBtn" class="button button-secondary">Reset</button>
                    </div>
                </section>
            </div>

            <section class="card bg-white shadow-lg rounded-xl p-6 space-y-4">
                <h2 class="text-3xl font-semibold text-gray-800">Explore Your Tools</h2>

                <button id="tools-toggle-btn" class="flex items-center justify-between w-full px-4 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition">
                    <span class="font-medium">Explore Tools Menu</span>
                    <i class="fas fa-chevron-down ml-2"></i>
                </button>

                <div id="nav-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                    
                    <a href="routine.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                            <svg class="w-5 h-5 text-indigo-600 group-hover:scale-110 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Daily Routine</h3>
                                <p class="text-xs text-gray-600">View your personalized daily schedule.</p>
                            </div>
                        </div>
                    </a>

                    <a href="homeworkout.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                           <svg class="w-5 h-5 text-red-500 group-hover:scale-110 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Workout Plan</h3>
                                <p class="text-xs text-gray-600">Access your dedicated home exercises.</p>
                            </div>
                        </div>
                    </a>

                    <a href="track.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                            <svg class="w-5 h-5 text-green-600 group-hover:scale-110 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Nutrition Guide</h3>
                                <p class="text-xs text-gray-600">Explore healthy eating & meal ideas.</p>
                            </div>
                        </div>
                    </a>

                    <a href="homeworkout.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                            <svg class="w-5 h-5 text-purple-600 group-hover:scale-110 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Progress Tracker</h3>
                                <p class="text-xs text-gray-600">Monitor steps, workouts, and skills.</p>
                            </div>
                        </div>
                    </a>

                    <a href="for-brain.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                            <svg class="w-5 h-5 text-yellow-500 group-hover:scale-110 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 16.84c.464 0 .84.376.84.84s-.376.84-.84.84-.84-.376-.84-.84.376-.84.84-.84zM14.337 16.84c.464 0 .84.376.84.84s-.376.84-.84.84-.84-.376-.84-.84.376-.84.84-.84zM4.5 12.55a8 8 0 1115 0" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 10h.01M15 10h.01" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Brain Functionality</h3>
                                <p class="text-xs text-gray-600">Engage in cognitive exercises.</p>
                            </div>
                        </div>
                    </a>

                    <a href="man-of-the-house.html" class="nav-item group p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-400 transition">
                        <div class="flex items-center gap-3">
                           <svg class="w-5 h-5 text-gray-700 group-hover:scale-110 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>
                            <div>
                                <h3 class="text-base font-medium text-gray-800">Man of the House</h3>
                                <p class="text-xs text-gray-600">How to take responsibility and lead well.</p>
                            </div>
                        </div>
                    </a>

                </div>
            </section>
        </div>
    </div>

    <footer class="text-center py-6 text-gray-500 text-sm mt-auto">
        <p>&copy; 2025 Productivity Hub. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- General Element References ---
            const welcomeMessageElement = document.getElementById('welcomeMessage');
            const dailyTipElement = document.getElementById('dailyTip');
            const newTipBtn = document.getElementById('newTipBtn');
            const originalTitle = document.title;
            
            // --- State Management ---
            let userName = localStorage.getItem('userName') || '';
            const tips = [
                "Consistency is key to unlocking your potential.", "Stay hydrated for optimal brain function.", "A short break can significantly boost your focus.", "Prioritize deep work in your most alert hours.", "Blue light filtering in the evening supports better sleep.", "Movement throughout the day contributes to well-being.", "Aim for 7-9 hours of quality sleep each night.", "Incorporate a variety of fruits and vegetables into your diet.", "Practice mindful eating – savor your food.", "Take short stretching breaks every hour.", "Limit processed foods and sugary drinks for better energy.", "Spend time outdoors daily to boost Vitamin D and mood.", "Prioritize stress reduction techniques like meditation.", "Ensure your dinner is light and consumed hours before bedtime.", "Listen to your body's signals for rest and recovery.", "Connect with loved ones regularly for emotional well-being."
            ];

            // --- 1. Personalization & Welcome ---
            function setWelcomeMessage() {
                const hour = new Date().getHours();
                let greeting = hour < 12 ? "Good Morning" : hour < 18 ? "Good Afternoon" : "Good Evening";
                welcomeMessageElement.textContent = `${greeting}, ${userName || 'friend'}!`;
            }
            
            // CORRECTED: This function now prompts for a name if one isn't stored
            function checkAndSetName() {
                if (!userName) {
                    const name = prompt("Welcome! What's your name?");
                    if (name) {
                        userName = name;
                        localStorage.setItem('userName', userName);
                    }
                }
                setWelcomeMessage();
            }

            function displayRandomTip() {
                dailyTipElement.textContent = `"${tips[Math.floor(Math.random() * tips.length)]}"`;
            }

            // --- 2. Interactive Task List ---
            const taskListContainer = document.getElementById('taskList');
            const addTaskBtn = document.getElementById('addTaskBtn');
            const clearTasksBtn = document.getElementById('clearTasksBtn');
            let tasks = JSON.parse(localStorage.getItem('dailyTasks')) || [];

            function saveTasks() {
                localStorage.setItem('dailyTasks', JSON.stringify(tasks));
            }

            function renderTasks() {
                taskListContainer.innerHTML = '';
                if (tasks.length === 0) {
                    taskListContainer.innerHTML = `<p class="text-gray-500 text-center py-4">No tasks yet. Add one to get started!</p>`;
                    return; // exit early
                }
                tasks.forEach((task, index) => {
                    const taskItem = document.createElement('div');
                    taskItem.className = 'task-item' + (task.completed ? ' completed' : '');
                    
                    taskItem.innerHTML = `
                        <input type="checkbox" data-index="${index}" ${task.completed ? 'checked' : ''} aria-label="Mark task as complete">
                        <input type="text" data-index="${index}" value="${task.text}" placeholder="Describe your task...">
                        <button class="delete-task-btn" data-index="${index}" aria-label="Delete task">×</button>
                    `;
                    
                    taskListContainer.appendChild(taskItem);
                });
            }

            taskListContainer.addEventListener('click', (e) => {
                const index = e.target.dataset.index;
                if (!index) return;

                if (e.target.type === 'checkbox') {
                    tasks[index].completed = e.target.checked;
                    // Toggling parent class for immediate visual feedback before re-render
                    e.target.closest('.task-item').classList.toggle('completed', e.target.checked);
                    saveTasks();
                }
                if (e.target.classList.contains('delete-task-btn')) {
                    tasks.splice(index, 1);
                    saveTasks();
                    renderTasks();
                }
            });
            
            taskListContainer.addEventListener('input', (e) => {
                if (e.target.type === 'text') {
                    tasks[e.target.dataset.index].text = e.target.value;
                    saveTasks(); // Save on input change
                }
            });

            addTaskBtn.addEventListener('click', () => {
                tasks.push({ text: '', completed: false });
                saveTasks();
                renderTasks();
                // Focus the new task's input field
                taskListContainer.querySelector('.task-item:last-child input[type="text"]').focus();
            });

            clearTasksBtn.addEventListener('click', () => {
                if(confirm('Are you sure you want to clear your entire focus list?')) {
                    tasks = [];
                    saveTasks();
                    renderTasks();
                }
            });

            // --- 3. Pomodoro Timer ---
            const timerDisplay = document.getElementById('pomodoroTimerDisplay');
            const startPauseBtn = document.getElementById('startPauseBtn');
            const resetBtn = document.getElementById('resetBtn');
            const workBtn = document.getElementById('workBtn');
            const breakBtn = document.getElementById('breakBtn');

            const WORK_MINUTES = 25;
            const BREAK_MINUTES = 5;
            let timerId = null;
            let isPaused = true;
            let currentMode = 'work'; // 'work' or 'break'
            let timeLeft = WORK_MINUTES * 60;

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                timerDisplay.textContent = timeString;
                document.title = `${timeString} - ${originalTitle}`;
            }

            function startTimer() {
                if (isPaused) {
                    isPaused = false;
                    startPauseBtn.textContent = 'Pause';
                    timerId = setInterval(() => {
                        timeLeft--;
                        updateTimerDisplay();
                        if (timeLeft <= 0) {
                            clearInterval(timerId);
                            document.title = `Time's up! - ${originalTitle}`;
                            // Add a sound or a more prominent visual cue here if desired
                            switchMode(currentMode === 'work' ? 'break' : 'work', true); // auto-start next mode
                        }
                    }, 1000);
                }
            }

            function pauseTimer() {
                if (!isPaused) {
                    isPaused = true;
                    startPauseBtn.textContent = 'Start';
                    clearInterval(timerId);
                    document.title = originalTitle;
                }
            }
            
            function switchMode(mode, autoStart = false) {
                pauseTimer();
                currentMode = mode;
                if (mode === 'work') {
                    timeLeft = WORK_MINUTES * 60;
                    workBtn.classList.add('active');
                    breakBtn.classList.remove('active');
                } else {
                    timeLeft = BREAK_MINUTES * 60;
                    breakBtn.classList.add('active');
                    workBtn.classList.remove('active');
                }
                updateTimerDisplay();

                if (autoStart) {
                    startTimer();
                }
            }

            startPauseBtn.addEventListener('click', () => {
                isPaused ? startTimer() : pauseTimer();
            });

            resetBtn.addEventListener('click', () => {
                pauseTimer();
                switchMode(currentMode);
            });
            
            workBtn.addEventListener('click', () => switchMode('work'));
            breakBtn.addEventListener('click', () => switchMode('break'));

            // --- Dropdown Navigation ---
            const toolsToggleBtn = document.getElementById('tools-toggle-btn');
            const navGrid = document.getElementById('nav-grid');

            toolsToggleBtn.addEventListener('click', () => {
                navGrid.classList.toggle('open');
                toolsToggleBtn.classList.toggle('open');
            });

            // --- Initial Application Setup ---
            function initialize() {
                checkAndSetName();
                displayRandomTip();
                renderTasks();
                updateTimerDisplay();
                newTipBtn.addEventListener('click', displayRandomTip);
            }
            
            initialize();
        });
    </script>
</body>
</html>
